
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nus-ceg5203.github.io/assignments/Assignment_3/2_OpenCL_Instructions/">
      
      
        <link rel="prev" href="../1_OpenCL_Intro/">
      
      
        <link rel="next" href="../3_Pynq_OpenCL_Kria/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>OpenCL Configuration - CEG5203 Assignments</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Merriweather";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="nus" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#opencl-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CEG5203 Assignments" class="md-header__button md-logo" aria-label="CEG5203 Assignments" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CEG5203 Assignments
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              OpenCL Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CEG5203 Assignments" class="md-nav__button md-logo" aria-label="CEG5203 Assignments" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CEG5203 Assignments
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CEG5203 Assignment Manuals
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment 1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Assignment 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_1/1_Intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to Hardware/Software Co-Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_1/2_HW_Platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating the Hardware Platform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_1/3_Using_Vitis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Software development using Vitis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_1/3_Using_Vitis_Classic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Software development using Vitis Classic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_1/4_Serial_Console/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Serial Console - RealTerm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_1/5_Performance_Analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Measuring Performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_1/6_Tips_Suggestions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tips and Suggestions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment 2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Assignment 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_2/1_HLSIntro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    High Level Synthesis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_2/2_HLSFLow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HLS Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_2/3_FIFO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Coprocessor Integration using AXI Stream FIFO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_2/3_MultipleCoPro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connecting Multiple Coprocessors (Optional)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_2/4_DMA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Coprocessor Integration using AXI DMA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Assignment_2/5_ModifyCoPro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modifying the Coprocessor
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assignment 3
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Assignment 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_OpenCL_Intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenCL Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    OpenCL Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    OpenCL Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-build-tools-and-opencl" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Build Tools and OpenCL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-visual-studio-code-ide" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Visual Studio Code IDE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiling-and-running-from-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      Compiling and Running from Command Line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opencl-on-cpu-using-pocl" class="md-nav__link">
    <span class="md-ellipsis">
      OpenCL on CPU using PoCL
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_Pynq_OpenCL_Kria/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pynq and OpenCL on Kria
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/Installing_Vitis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing Vitis
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Project
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Project/Final_Project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open-ended Project
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-build-tools-and-opencl" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Build Tools and OpenCL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-visual-studio-code-ide" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Visual Studio Code IDE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compiling-and-running-from-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      Compiling and Running from Command Line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opencl-on-cpu-using-pocl" class="md-nav__link">
    <span class="md-ellipsis">
      OpenCL on CPU using PoCL
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="opencl-configuration">OpenCL Configuration</h1>
<div class="admonition warning">
<p class="admonition-title">Follow the Spirit</p>
<p>The instructions should be treated as a guideline rather than a very comprehensive manual. Figure out on your own how to solve issues, if any.</p>
</div>
<p>It is generally easier to run OpenCL in a Linux distribution. Instructions for Windows are also provided, but expect some rough edges.</p>
<p>Make sure your graphics drivers are up-to-date and supports OpenCL. The instructions assume an Intel GPU. For Nvidia and AMD GPUs, there are some differences in instructions, which you can figure out with a bit of Googling.</p>
<p>Use path names without special characters or spaces for all paths.</p>
<p>The template/data files are <a href="https://github.com/NUS-CEG5203/assignments/tree/main/docs/Assignment_3/code_templates">here</a>.</p>
<h2 id="installing-build-tools-and-opencl">Installing Build Tools and OpenCL</h2>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Ubuntu Linux</label><label for="__tabbed_1_2">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Refresh package list and update packages. <code>sudo apt update &amp;&amp; sudo apt upgrade</code>. You will be prompted for your Ubuntu password, and to confirm by pressing <code>y</code>.</p>
<p>Install build tools, OpenCL libraries, and loader. <code>sudo apt install build-essential clinfo intel-opencl-icd ocl-icd-opencl-dev gdb</code> (assuming Intel GPU. For Nvidia / AMD, appropriate drivers may need to be installed).</p>
<p>Depending on the system configuration, other dependencies may also need to be installed. <code>sudo apt -f install</code> can usually help install these additional dependencies.</p>
<p>Before building your program for the first time, it may be a good idea to refresh the linker cache via <code>sudo ldconfig</code>.</p>
<p>Run <code>clinfo</code> from the terminal and see if lists platforms and devices. If it lists platforms and devices, you are close! </p>
<p>If it shows number of platforms as 0, you likely have a new (e.g, Raptor Lake U) processor. You can follow the guidelines on <a href="https://dgpu-docs.intel.com/driver/client/overview.html#ubuntu-latest">Intel website</a>, reproduced below for convenience.</p>
<p>Install the package for managing software repositories (likely already installed). <code>sudo apt-get install -y software-properties-common</code>.</p>
<p>Add the intel-graphics PPA. <code>sudo add-apt-repository -y ppa:kobuk-team/intel-graphics</code>.</p>
<p>Install Intel compute related packages. <code>sudo apt-get install -y libze-intel-gpu1 libze1 intel-metrics-discovery intel-gsc</code></p>
<p>Try <code>clinfo</code> again and it should show platforms and devices.</p>
</div>
<div class="tabbed-block">
<p><em>Install MSYS2</em>: Install <a href="https://github.com/msys2/msys2-installer/releases/download/2025-08-30/msys2-x86_64-20250830.exe">MSYS2</a>. This provides a minimal Linux-like setup for Windows.</p>
<p>Run MSYS2. It takes a few seconds to open.</p>
<p><em>Install the compiler toolchain</em>: Via the MSYS2 command line, run the following.</p>
<p><code>pacman -Syu</code> to update the package manager.</p>
<p>and then</p>
<p><code>pacman -S mingw-w64-ucrt-x86_64-gcc</code> to install the GCC compiler</p>
<p><code>pacman -S mingw-w64-ucrt-x86_64-gcd</code> to install the GNU debugger.</p>
<p>By default, the toolchain is installed to C:\msys64\ucrt64. If you want to know the location, you can find out by typing <code>which g++</code>.</p>
<p><em>Add the toolchain to Windows PATH</em>: Win+S &gt; search for 'Environment Variables' &gt; Edit system environment variables &gt; Advanced Tab &gt; Environment Variables &gt; System Variables &gt; Path &gt; Edit &gt; New &gt;. Add the bin folder of your UCRT64 installation, e.g.: <code>C:\msys64\ucrt64\bin and C:\msys64\ucrt64\include</code>. Click OK to save changes.</p>
<p><em>Verify Installation</em>: Open Command Prompt (in start menu, type cmd) and run: g++ --version
If installed correctly, it should display version information. Only new command windows can see the updated path, so if it was already open, close and reopen.</p>
<p><em>Install OpenCL SDK</em>: Download and Unzip <a href="https://github.com/KhronosGroup/OpenCL-SDK/releases/download/v2025.07.23/OpenCL-SDK-v2025.07.23-Win-x64.zip">Khronos OpenCL SDK</a> (a newer release, if available, should be fine too).</p>
<p>Unzip to <code>C:\OpenCLSDK</code> such that <code>C:\OpenCLSDK\include</code> (contains CL/cl.h etc.) and <code>C:\OpenCLSDK\bin</code>(contains OpenCL.lib) exists. If you choose another path, modify command line build options and/or edit the VS Code config files accordingly.</p>
</div>
</div>
</div>
<h2 id="configuring-visual-studio-code-ide">Configuring Visual Studio Code IDE</h2>
<p>Install VS Code IDE. This can be done in multiple different ways depending on the OS and package manager.</p>
<p>Install the following extensions</p>
<ul>
<li>C/C++</li>
<li>C/C++ Extension Pack</li>
<li>CMake Tools (optional)</li>
<li>OpenCL (optional, allows syntax highlighting of .cl files, has a built-in <code>clinfo</code> tool, etc.)</li>
</ul>
<p>You can use the folder/workspace from <a href="https://nus-ceg5203.github.io/assignments/Assignment_3/code_templates/OpenCLExample">here</a>. Include the complete folder, including the .vscode subfolder with the .json files that has various settings. Make appropriate changes to the paths in the .json files if necessary. The source file is slightly enhanced from the one explained in lecture notes. This file has enhanced debugging options, as well as time measurement-related functions.</p>
<p>Build the project via Ctrl+Shift+B. This will create the executable <code>main.out</code> (Linux) or <code>main.exe</code> (Windows).</p>
<p>Ensure that <code>kernel.cl</code> is in the same folder as the executable <code>main.out</code> or <code>main.exe</code></p>
<p>Press F5 to run it with debugging.</p>
<p>To run normally, go to the terminal of VS Code, ensure that you are in the folder with the <code>main.exe</code> / <code>main.out</code> (<code>cd</code> there if need be), and execute <code>.\main.exe</code> or <code>./main.out</code>.</p>
<p>Running in Windows is less stable, there is a higher likelihood of the runtime compilation of the kernel failing. Just run again if that happens.</p>
<h2 id="compiling-and-running-from-command-line">Compiling and Running from Command Line</h2>
<p>This is optional, but can be faster than using an IDE. You can use the <code>main.cpp</code> from the archives above.</p>
<p>Build the program via</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Linux</label><label for="__tabbed_2_2">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><code>g++ main.cpp -lOpenCL -o main.out</code></p>
</div>
<div class="tabbed-block">
<p><code>g++ -g main.cpp -IC:/OpenCLSDK/include -LC:/OpenCLSDK/lib -lOpenCL -o main.exe</code></p>
</div>
</div>
</div>
<p>after doing a <code>cd</code> to the folder/directory with the source file. This will create the executable <code>main.out</code> or <code>main.exe</code>.</p>
<p>Copy <code>kernel.cl</code> from the archives above to be in the same folder as the executable <code>main.out</code> or <code>main.exe</code>, as it is read and compiled at runtime. You can now run the executable by entering the command <code>/main.out</code> or <code>.\main.exe</code>. It should print the result 2-10 seconds later. If it works, you are good to go!</p>
<p>If using <code>gcc</code> instead of <code>g++</code> and if you include <code>math.h</code>, <code>-lm</code> should be added to command line or VS Code <code>tasks.json</code>.</p>
<h2 id="opencl-on-cpu-using-pocl">OpenCL on CPU using PoCL</h2>
<p><a href="https://portablecl.org/">Portable Computing Language (PoCL)</a> provides a portable OpenCL implementation that works with most CPUs and many GPUs. On CPUs, it can make use of all the cores/hardware threads. Installation in Windows is not straightforward, but possible.</p>
<p>In Linux, you can install it via <code>sudo apt install pocl-opencl-icd</code>. </p>
<p>Make slight adjustments to the code, by selecting the correct platform and device type.</p>
<p>It works on the Kria board too if you boot Linux, and install PoCL. More instructions in <a href="../3_Pynq_OpenCL_Kria/#opencl-on-kria">this</a> page.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.tooltips"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>